apiVersion: admissionregistration.k8s.io/v1beta1
kind: ValidatingWebhookConfiguration
metadata:
  name: trow-validator
webhooks:
  - name: validator.trow.io
    rules:
      - apiGroups:
          - ""
        apiVersions:
          - v1
        operations:
          - CREATE
        resources:
          - pods
    failurePolicy: Fail
    clientConfig:
      caBundle: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUV6akNDQTdhZ0F3SUJBZ0lVT28zeXYvWGo2YklFVElDaERpTmIwa2RoSXlnd0RRWUpLb1pJaHZjTkFRRUwKQlFBd0ZURVRNQkVHQTFVRUF4TUthM1ZpWlhKdVpYUmxjekFlRncweE9UQTVNREV4TWpNeU1EQmFGdzB5TURBNApNekV4TWpNeU1EQmFNQnN4R1RBWEJnTlZCQU1URUhSeWIzY3VhM1ZpWlMxd2RXSnNhV013Z2dJaU1BMEdDU3FHClNJYjNEUUVCQVFVQUE0SUNEd0F3Z2dJS0FvSUNBUURNbVd2ek8waGt1Q1RNalVGT0doemdOSzRFOEdvQkN1MHAKWHo3K090RVVPT3hZS042cVAyUFhJNDEyejFESjFDQW1ZdEJYVGJwbDZwYmhXZ2xKZzJya3FVUjdaQkxKRlN4aAprbEJtdkpjdEhueVJ2ak5yMEVJWUt1WDRYcHhsWEZGR1dPbFhDNjhWU3lEYmR5YW9DVGVXNHNIbkpnc2dNdFZ3Ci9LMHlYMVBYb3JXMmlReEg1ZTc5NXk5MjhGWmNidFB3UWQxbFhROVhGeTNBdHF1cHdDV0FIMmZOVVJhZGNuUkoKNTVqVU9lSHgxeENiZnVpbDRsZUp5NEhaak5jL3V3TXAvaXQwcmg4UnRWZU1zVFdKc2h3SUFlUS8wV3drSENtZQpvVTlVSnYyV2ZRVUhSWVllNDJ3VmxOQVJVcSs0RkR3c1lpQjRKbkVPQU10ZERuYVVUc2VJSG5iK2FhWUsyVGYvCm9tejZFYngrdFB0K1FwQmg0cXFCOFpYZUg1UkZma2Qyc1NSSTlpRDQxSFBnVndEeGVCVGx4QTdaMGo5a2VYOVcKaEFyNERpTlNheHEvZmVBc3BUbmhYZ2dGM3VzVjBKaUg1MW1LNlNDWnV1aVYvTTB5WWM2Z3dRMHdOZ0habktMeQppSXJkVG5pNjNQTmd1TXpCc1BCM3FZcnZUQWN3NVFGSjlZSFA3anpqUHR2VmxLTllNbm1tQ1RwSWhMYTdKN0VqCkxZNkVBcDBDcHhXcnNBaVBIbFc1Q3drYlVnRm9iRTF5TGxReFMrSDZGSWVwYmRIbktIbkEwNm1xTTlHbXhDZysKd0dTeC9LSlZmNjVidG1yZmhZZk9oZEJCWnNibmF3KzYvbnBaMFhoYTBGc1VtNmprSnNtUlVhcjk4N0FOempiTgphQzlaNFNiZEF3SURBUUFCbzRJQkRqQ0NBUW93RGdZRFZSMFBBUUgvQkFRREFnV2dNQk1HQTFVZEpRUU1NQW9HCkNDc0dBUVVGQndNQk1Bd0dBMVVkRXdFQi93UUNNQUF3SFFZRFZSME9CQllFRk84bk1vb3VsQ1p5bXl6Nitab0sKcndxc0NGdGdNSUcxQmdOVkhSRUVnYTB3Z2FxQ0luUnliM2N1YTNWaVpTMXdkV0pzYVdNdWMzWmpMbU5zZFhOMApaWEl1Ykc5allXeUNGSFJ5YjNjdWEzVmlaUzF3ZFdKc2FXTXVjM1pqZ2pwMGNtOTNMV1JsY0d4dmVTMDFZMk5qCk5HSmlPR1E0TFdkbWQyeDZMbXQxWW1VdGNIVmliR2xqTG5CdlpDNWpiSFZ6ZEdWeUxteHZZMkZzZ2hSMGNtOTMKTG10MVltVXRjSFZpYkdsakxuTjJZNElRZEhKdmR5NXJkV0psTFhCMVlteHBZNGNFd0tqcmdvY0VDbThWaFRBTgpCZ2txaGtpRzl3MEJBUXNGQUFPQ0FRRUFzWEx4Z041RStYMUtEb1JRTWdCaFpZSmhieFlnZ3EzdlNqcy8zR3JKCjFjRjRBK3YvV2JEQnJVK3I0bVdJWmU2bE9GRGlWcVgxaHNlVTc3N2hUZFcvQVNIUTIvZDBVb0FReUUwSlh1NmwKMzVYUWhiclg1VFI3dnhTbUw1ZkYxSXk5UVZRK3JSc21lbGxrdlF6Q2lZSlFleTVZZVNtRWUzbDl1b1FFaXVPVgpCakttV0xuVU8zbzhkaFhod21wMjRzMFE5b2d5U0dKSWthaUF2enh5MEhKWGVySm5iamI2NkI0ejRGczFuRUJmCnRveHBGTUUzRWFCTEh1dDhxYmFPd3YwTnBqTXhNLzluN2lvSFFzZFVsc3BzVWZxNTd0M2U4Yi8vVTl6UTgrWXMKYnM4ZVZ4aVkvbzdTejFER3NiRFIvWU00MEFQYWRjTDAwcXNscHZQSjFjUENidz09Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K
      service:
        name: trow
        namespace: kube-public
        path: "/validate-image"
